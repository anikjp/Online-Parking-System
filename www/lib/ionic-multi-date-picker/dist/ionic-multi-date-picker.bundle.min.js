(function (doc, cssText) {
    var styleEl = doc.createElement("style");
    doc.getElementsByTagName("head")[0].appendChild(styleEl);
    if (styleEl.styleSheet) {
        if (!styleEl.styleSheet.disabled) {
            styleEl.styleSheet.cssText = cssText;
        }
    } else {
        try {
            styleEl.innerHTML = cssText;
        } catch (ignore) {
            styleEl.innerText = cssText;
        }
    }
}(document, ".cal-color-red:before{background-color:#f66d67}.cal-color-yellow:before{background-color:#f6e800}.cal-color-4:before,.cal-color-orange:before{background-color:#f68200}.cal-color-2:before,.cal-color-violet:before{background-color:#f600c7}.cal-color-6:before,.cal-color-saha:before{background-color:#9f00f6}.cal-color-coral:before{background-color:#ff8579}.cal-color-3:before,.cal-color-blue:before{background-color:#3a81c5}.cal-color-7:before,.cal-color-skyey:before{background-color:#53a7ff}.cal-color-green:before{background-color:#9bd659}.cal-color-5:before,.cal-color-ggreen:before{background-color:#00d66c}.cal-color-0:before,.cal-color-holiday:before{background-color:red}.cal-color-1:before,.cal-color-black:before{background-color:#000}.picker-body{height:inherit}.picker-body .popup-head{padding:0;border:0}.picker-body .popup-body{overflow:inherit!important;padding:0}.cal-green{color:#9bd659!important}.cal-green-bg{background-color:#9bd659;z-index:-2}.ionic-datepicker{background-color:#fff}.ionic-datepicker .no-padding{padding:0}.ionic-datepicker .clear{clear:both}.ionic-datepicker .title{color:#3a81c5}.ionic-datepicker .title h3{font-size:2em;text-align:center!important;margin:0;padding:10px;width:100%}.ionic-datepicker .title div{font-size:21px;text-align:center!important;margin:0;padding:5px;width:100%}.ionic-datepicker .navigator{background-color:#3a81c5;min-height:50px}.ionic-datepicker .icon-chevron{position:relative}.ionic-datepicker .icon-chevron:before{background-color:#fff;width:24px;height:24px;border-radius:50%;padding:5px 3px;position:absolute;top:-7px;z-index:1}.ionic-datepicker .icon-chevron-left:before{left:2px}.ionic-datepicker .icon-chevron-right:before{left:-25px}.ionic-datepicker .month-year-selector{position:fixed;right:60px;top:0;left:60px;background-color:transparent;color:transparent;border-width:0;max-width:40%}.ionic-datepicker .month-year-selector input{color:transparent}.ionic-datepicker .calendar-grid{margin:0 auto;max-width:100%}.ionic-datepicker .week-days{text-transform:uppercase;text-align:center}.ionic-datepicker .weekend{color:#f66d67}.ionic-datepicker .calendar-0,.ionic-datepicker .calendar-1,.ionic-datepicker .calendar-2,.ionic-datepicker .calendar-3,.ionic-datepicker .calendar-4,.ionic-datepicker .calendar-5,.ionic-datepicker .calendar-6,.ionic-datepicker .calendar-7{position:absolute;top:0;left:0;color:transparent}.ionic-datepicker .calendar-0:before,.ionic-datepicker .calendar-1:before,.ionic-datepicker .calendar-2:before,.ionic-datepicker .calendar-3:before,.ionic-datepicker .calendar-4:before,.ionic-datepicker .calendar-5:before,.ionic-datepicker .calendar-6:before,.ionic-datepicker .calendar-7:before{position:absolute;content:'';z-index:0;width:8px;height:8px;border:2px solid #fff;border-radius:50%}.ionic-datepicker .calendar-0:before{top:3px;left:5px}.ionic-datepicker .calendar-1:before{top:-1px;left:14px}.ionic-datepicker .calendar-2:before{top:3px;left:23px}.ionic-datepicker .calendar-3:before{top:12px;left:27px}.ionic-datepicker .calendar-4:before{top:22px;left:24px}.ionic-datepicker .calendar-5:before{top:25px;left:14px}.ionic-datepicker .calendar-6:before{top:22px;left:5px}.ionic-datepicker .calendar-7:before{top:12px;left:1px}.ionic-datepicker .disabledDate{color:#868686!important}.ionic-datepicker .disabledDate:after{position:absolute;content:'';top:4px;left:5px;z-index:-1;width:25px;height:25px;border-radius:50%;background-color:#e7e7e7}.ionic-datepicker .not-cur-month{color:#ccc}.ionic-datepicker .today{font-weight:bolder}.ionic-datepicker .today:after{content:'';position:absolute;top:4px;left:5px;z-index:-1;width:25px;height:25px;border-radius:50%;border:2px solid #53a7ff}.ionic-datepicker .not-empty:after{content:'';position:absolute;top:4px;left:5px;z-index:-1;width:25px;height:25px;border-radius:50%;border:1px solid #ccc}.ionic-datepicker .selected,.ionic-datepicker .selected-light{color:#fff!important}.ionic-datepicker .selected-light:after,.ionic-datepicker .selected:after{content:'';position:absolute;top:4px;left:5px;z-index:-1;width:25px;height:25px;border-radius:50%}.ionic-datepicker .selected:after{background-color:#f66d67}.ionic-datepicker .selected-light:after{background-color:#ff8579}.ionic-datepicker .date-grid{height:200px}.ionic-datepicker .date-grid .date-row{text-align:center}.ionic-datepicker .date-grid .date-row .date-col{position:relative;z-index:1;width:44px}.ionic-datepicker .date-grid .date-row .date-col:active,.ionic-datepicker .date-grid .date-row .date-col:hover{cursor:pointer}.ionic-datepicker .date-grid .date-row .date-col .date-cell{padding:5px;margin:2px;width:30px;}.ionic-datepicker .calendar-names{position:relative;max-width:260px;height:87px;margin:0 auto}.ionic-datepicker .calendar-names .calendars-point{width:29px;text-align:center;position:absolute;left:110px;top:31px;z-index:1}.ionic-datepicker .calendar-names .calendars-point:before{position:absolute;content:'';left:-10px;top:-12px;width:47px;height:47px;border-radius:50%;z-index:-1}.ionic-datepicker .calendar-names .calendars-point-today:before{border:2px solid #53a7ff}.ionic-datepicker .calendar-names .calendars-point-selected{color:#fff}.ionic-datepicker .calendar-names .calendars-point-selected:before{background-color:#ff8579}.ionic-datepicker .calendar-names .calendars-point-disabled{color:#868686}.ionic-datepicker .calendar-names .calendars-point-disabled:before{background-color:#e7e7e7}.ionic-datepicker .calendar-names .calendars-point-contour:before{border:1px solid #ccc}.ionic-datepicker .calendar-names .calendar-0-name,.ionic-datepicker .calendar-names .calendar-1-name,.ionic-datepicker .calendar-names .calendar-2-name,.ionic-datepicker .calendar-names .calendar-3-name,.ionic-datepicker .calendar-names .calendar-4-name,.ionic-datepicker .calendar-names .calendar-5-name,.ionic-datepicker .calendar-names .calendar-6-name,.ionic-datepicker .calendar-names .calendar-7-name{position:absolute;width:40%;text-align:center}.ionic-datepicker .calendar-names .calendar-0-name{top:16px;left:5px}.ionic-datepicker .calendar-names .calendar-1-name{top:0;left:74px}.ionic-datepicker .calendar-names .calendar-2-name{top:16px;left:144px}.ionic-datepicker .calendar-names .calendar-3-name{top:32px;left:149px}.ionic-datepicker .calendar-names .calendar-4-name{top:48px;left:144px}.ionic-datepicker .calendar-names .calendar-5-name{top:64px;left:74px}.ionic-datepicker .calendar-names .calendar-6-name{top:48px;left:5px}.ionic-datepicker .calendar-names .calendar-7-name{top:32px;left:0}.ionic-datepicker .calendar-names .calendar-0-point,.ionic-datepicker .calendar-names .calendar-1-point,.ionic-datepicker .calendar-names .calendar-2-point,.ionic-datepicker .calendar-names .calendar-3-point,.ionic-datepicker .calendar-names .calendar-4-point,.ionic-datepicker .calendar-names .calendar-5-point,.ionic-datepicker .calendar-names .calendar-6-point,.ionic-datepicker .calendar-names .calendar-7-point{position:absolute;color:transparent}.ionic-datepicker .calendar-names .calendar-0-point:before,.ionic-datepicker .calendar-names .calendar-1-point:before,.ionic-datepicker .calendar-names .calendar-2-point:before,.ionic-datepicker .calendar-names .calendar-3-point:before,.ionic-datepicker .calendar-names .calendar-4-point:before,.ionic-datepicker .calendar-names .calendar-5-point:before,.ionic-datepicker .calendar-names .calendar-6-point:before,.ionic-datepicker .calendar-names .calendar-7-point:before{position:absolute;content:'';width:12px;height:12px;border:3px solid #fff;border-radius:50%;z-index:2}.ionic-datepicker .calendar-names .calendar-0-point{top:20px;left:100px}.ionic-datepicker .calendar-names .calendar-1-point{top:14px;left:118px}.ionic-datepicker .calendar-names .calendar-2-point:before{top:20px;left:136px}.ionic-datepicker .calendar-names .calendar-3-point:before{top:37px;left:143px}.ionic-datepicker .calendar-names .calendar-4-point:before{top:53px;left:136px}.ionic-datepicker .calendar-names .calendar-5-point:before{top:59px;left:119px}.ionic-datepicker .calendar-names .calendar-6-point:before{top:53px;left:100px}.ionic-datepicker .calendar-names .calendar-7-point:before{top:37px;left:93px}.ionic-datepicker .errors{max-width:260px;padding:10px;margin:0 auto;color:#f66d67}.ionic-datepicker .tgl-period div{margin:0}.ionic-datepicker .view-month{color:#fff;padding:14px}.ionic-datepicker .pointer_events_none{pointer-events:none!important}.ionic-datepicker .select_section{padding:0}.ionic-datepicker .select_section label{padding:12px}.ionic-datepicker .select_section select{font-size:12px;font-weight:700;padding:2px 10px;direction:ltr;left:0;width:100%;max-width:100%}.ionic-datepicker .select_section .item-select:after{right:4px;border-top:4px solid;border-right:4px solid #000;border-left:4px solid #000}.ionic-datepicker .left-arrow{direction:rtl}.ionic-datepicker .font_22px{font-size:22px}.ionic-datepicker .btns-right-popup{float:right}.ionic-datepicker .btns-right-modal{direction:rtl}.ionic_datepicker_modal_content{padding-top:10%}.ionic_datepicker_modal_content .ionic-datepicker .selected_date_full{font-size:20px;padding:20px}.ionic_datepicker_modal_content .cal-button{padding:0!important;font-size:14px!important}@media (min-width:680px){.ionic_datepicker_modal_content{padding-top:0}.ionic_datepicker_modal_content .ionic-datepicker .selected_date_full{font-size:inherit;padding:10px 0 0}}"));

(function(module) {
try {
  module = angular.module('ionic-multi-date-picker.templates');
} catch (e) {
  module = angular.module('ionic-multi-date-picker.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('ionic-multi-date-picker-modal.html',
    '<ion-modal-view class=ionic-datepicker><ion-header-bar class=title ng-class=headerClass><div ng-class=headerClass ng-bind=header></div></ion-header-bar><ion-content><div><ng-include src="\'template-body.html\'"></ng-include></div></ion-content><ion-footer-bar ng-class=modalFooterClass><div class="row no-padding btns-right-modal"><md-button class=button ng-repeat="btn in btns" ng-click=btn.onClickModal() ng-disabled="btn.sType == \'ok\' && errors.len > 0" ng-class=btn.type>{{ btn.text }}</md-button></div></ion-footer-bar></ion-modal-view>');
}]);
})();

(function(module) {
try {
  module = angular.module('ionic-multi-date-picker.templates');
} catch (e) {
  module = angular.module('ionic-multi-date-picker.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('ionic-multi-date-picker-plain.html',
    '<div ng-class=headerClass>{{ inputObj.header }}</div>');
}]);
})();

(function(module) {
try {
  module = angular.module('ionic-multi-date-picker.templates');
} catch (e) {
  module = angular.module('ionic-multi-date-picker.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('ionic-multi-date-picker-popup.html',
    '<div class=ionic-datepicker><div class="title ng-hide" ng-show="header.length > 0"><h3 ng-class=headerClass ng-bind=header></h3></div><ng-include src="\'template-body.html\'"></ng-include><div class="btns-right-popup ng-hide" ng-show=!btnsIsNative><button class=button ng-repeat="btn in btns" ng-click=btn.onTap() ng-disabled="btn.sType == \'ok\' && errors.len > 0" ng-class=btn.type>{{ btn.text }}</button></div><div class=clear></div></div>');
}]);
})();

(function(module) {
try {
  module = angular.module('ionic-multi-date-picker.templates');
} catch (e) {
  module = angular.module('ionic-multi-date-picker.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('template-body.html',
    '<div class="navigator row no-padding"><div class="col col-10 left-arrow" ng-click=prevMonth()><button class=button-clear><i class="icon icon-chevron icon-chevron-left ion-chevron-left"></i></button></div><div class="col col-80 view-month text-center">{{ monthsList[viewMonth] }} {{ viewYear }}</div><div class="col col-10" ng-click=nextMonth()><button class=button-clear><i class="icon icon-chevron icon-chevron-right ion-chevron-right"></i></button></div></div><label class="month-year-selector item item-input"><input type=month ng-model=monthYear.select ng-change=monthYearSelect()></label><div class=calendar-grid><div class=row><div class="col week-days" ng-class="{\'weekend\': ($index == 5 || $index == 6)}" ng-repeat="weekName in weekNames track by $index" ng-bind=weekName></div></div><div class=date-grid><div class="row date-row" ng-repeat="row in rows track by $index"><div class="col no-padding date-col" ng-repeat="col in cols track by $index" ng-class="{\'selected\': (dayList[row + $index].style.isSelected && accessType == \'WRITE\') , \'selected-light\': (dayList[row + $index].style.isSelected && accessType == \'READ\') , \'today\' : (dayList[row + $index].style.isToday) , \'weekend\': ((dayList[row + $index].day == 6 || dayList[row + $index].day == 0) && viewMonth == dayList[row + $index].month) , \'disabledDate\': (dayList[row + $index].style.isDisabled) , \'not-empty\': !(dayList[row + $index].style.isToday || dayList[row + $index].style.isSelected || dayList[row + $index].style.isDisabled) && (dayList[row + $index].style.isCalendar0 || dayList[row + $index].style.isCalendar1 || dayList[row + $index].style.isCalendar2 || dayList[row + $index].style.isCalendar3 || dayList[row + $index].style.isCalendar4 || dayList[row + $index].style.isCalendar5 || dayList[row + $index].style.isCalendar6 || dayList[row + $index].style.isCalendar7) , \'not-cur-month\': (!dayList[row + $index].style.isViewMonth)}"><div class=date-cell on-hold="onHold(dayList[row + $index])" on-release="onRelease(dayList[row + $index])" on-tap="onTap(dayList[row + $index], row)">{{ dayList[row + col].date }}</div><div class="calendar-0 ng-hide" ng-class=calendar[0].class ng-show="dayList[row + $index].style.isCalendar0"></div><div class="calendar-1 ng-hide" ng-class=calendar[1].class ng-show="dayList[row + $index].style.isCalendar1"></div><div class="calendar-2 ng-hide" ng-class=calendar[2].class ng-show="dayList[row + $index].style.isCalendar2"></div><div class="calendar-3 ng-hide" ng-class=calendar[3].class ng-show="dayList[row + $index].style.isCalendar3"></div><div class="calendar-4 ng-hide" ng-class=calendar[4].class ng-show="dayList[row + $index].style.isCalendar4"></div><div class="calendar-5 ng-hide" ng-class=calendar[5].class ng-show="dayList[row + $index].style.isCalendar5"></div><div class="calendar-6 ng-hide" ng-class=calendar[6].class ng-show="dayList[row + $index].style.isCalendar6"></div><div class="calendar-7 ng-hide" ng-class=calendar[7].class ng-show="dayList[row + $index].style.isCalendar7"></div></div></div></div></div><div class="calendar-names ng-hide" ng-show="calendarNamesCount > 0"><div class=calendars-point ng-class="{\'calendars-point-today\': (holded.is && holded.isToday), \'calendars-point-selected\': (holded.is && holded.isSelected), \'calendars-point-disabled\': (holded.is && holded.isDisabled), \'calendars-point-contour\': (!(holded.isToday || holded.isSelected || holded.isDisabled))}">{{ holded.date }}</div><div class="calendar-0-point ng-hide" ng-show="calendar[0].name.title.length > 0 && (!holded.is || holded.isCalendar0)" ng-class=calendar[0].class>.</div><div class="calendar-1-point ng-hide" ng-show="calendar[1].name.title.length > 0 && (!holded.is || holded.isCalendar1)" ng-class=calendar[1].class>.</div><div class="calendar-2-point ng-hide" ng-show="calendar[2].name.title.length > 0 && (!holded.is || holded.isCalendar2)" ng-class=calendar[2].class>.</div><div class="calendar-3-point ng-hide" ng-show="calendar[3].name.title.length > 0 && (!holded.is || holded.isCalendar3)" ng-class=calendar[3].class>.</div><div class="calendar-4-point ng-hide" ng-show="calendar[4].name.title.length > 0 && (!holded.is || holded.isCalendar4)" ng-class=calendar[4].class>.</div><div class="calendar-5-point ng-hide" ng-show="calendar[5].name.title.length > 0 && (!holded.is || holded.isCalendar5)" ng-class=calendar[5].class>.</div><div class="calendar-6-point ng-hide" ng-show="calendar[6].name.title.length > 0 && (!holded.is || holded.isCalendar6)" ng-class=calendar[6].class>.</div><div class="calendar-7-point ng-hide" ng-show="calendar[7].name.title.length > 0 && (!holded.is || holded.isCalendar7)" ng-class=calendar[7].class>.</div><div class="calendar-0-name ng-hide" ng-show="calendar[0].name.title.length > 0 && (!holded.is || holded.isCalendar0)">{{ calendar[0].name.title }}</div><div class="calendar-1-name ng-hide" ng-show="calendar[1].name.title.length > 0 && (!holded.is || holded.isCalendar1)">{{ calendar[1].name.title }}</div><div class="calendar-2-name ng-hide" ng-show="calendar[2].name.title.length > 0 && (!holded.is || holded.isCalendar2)">{{ calendar[2].name.title }}</div><div class="calendar-3-name ng-hide" ng-show="calendar[3].name.title.length > 0 && (!holded.is || holded.isCalendar3)">{{ calendar[3].name.title }}</div><div class="calendar-4-name ng-hide" ng-show="calendar[4].name.title.length > 0 && (!holded.is || holded.isCalendar4)">{{ calendar[4].name.title }}</div><div class="calendar-5-name ng-hide" ng-show="calendar[5].name.title.length > 0 && (!holded.is || holded.isCalendar5)">{{ calendar[5].name.title }}</div><div class="calendar-6-name ng-hide" ng-show="calendar[6].name.title.length > 0 && (!holded.is || holded.isCalendar6)">{{ calendar[6].name.title }}</div><div class="calendar-7-name ng-hide" ng-show="calendar[7].name.title.length > 0 && (!holded.is || holded.isCalendar7)">{{ calendar[7].name.title }}</div></div><div class=errors><div ng-repeat="error in errors">{{ error[errorLanguage] }}</div></div><div class="tgl-period ng-hide" ng-show="tglSelectByWeekShow && accessType == \'WRITE\' && selectType != \'SINGLE\'"><div class="item item-toggle" ng-class=titleSelectByWeekClass>{{ tglSelectByWeek }} <label class=toggle ng-class=tglSelectByWeekClass><input type=checkbox ng-model=selectByWeek.is><div class=track><div class=handle></div></div></label></div></div>');
}]);
})();

//By Rajeshwar Patlolla - rajeshwar.patlolla@gmail.com
//https://github.com/rajeshwarpatlolla

// forked and edited by Denni Adam - dennila2@gmail.com
// https://github.com/dennila2
(function(){
  'use strict';

  angular.module('ionic-multi-date-picker', ['ionic','ionic-multi-date-picker.templates']);

})();
//By Rajeshwar Patlolla - rajeshwar.patlolla@gmail.com

// forked and rewrited by Denni Adam - dennila2@gmail.com
// https://github.com/dennila2

(function () {
  'use strict';

  angular.module('ionic-multi-date-picker')
    .directive('ionicMultiDatePicker', IonicMultiDatePicker);

  IonicMultiDatePicker.$inject = ['$ionicGesture', '$ionicModal', '$ionicPopup', '$timeout', 'IonicMultiDatePickerService'];

  function IonicMultiDatePicker($ionicGesture, $ionicModal, $ionicPopup, $timeout, IonicMultiDatePickerService) {
    return {
      restrict: 'AE',
      replace: false,
      /*template: function (elem, attrs) {
       console.log('elem');
       console.log(elem);
       if (attrs.calendar === 'true') {
       return '<div>date-picker</div><div>{{ inputObj.header }}</div>'
       }
       return '';
       },*/
      scope: {
        inputObj: "=inputObj"
      },
      link: function (scope, element, attrs) {
        // IDE definitions
        var ERRORS = {
          INPUT_PERIOD__SINGLE_NOT_PERIOD: {
            CODE: 'INPUT_PERIOD__SINGLE_NOT_PERIOD',
            EN: 'Date is not single',
            RU: 'Должно быть не больше одной даты'
          },
          INPUT_PERIOD__DATES_NOT_PERIOD: {
            CODE: 'INPUT_PERIOD__DATES_NOT_PERIOD',
            EN: 'Dates is not period',
            RU: 'Даты не являются периодом'
          },
          UNKNOWN_ERROR: {
            CODE: 'UNKNOWN_ERROR',
            EN: 'Unknown error',
            RU: 'Неизвестная ошибка'
          },
          ERROR_DELETING_UNKNOWN_ERROR: {
            CODE: 'ERROR_DELETING_UNKNOWN_ERROR',
            EN: 'Error deleting unknown error',
            RU: 'Ошибка удаления неизвестной ошибки'
          }
        };
        var SELECT_TYPE = {MULTI: 'MULTI', PERIOD: 'PERIOD', SINGLE: 'SINGLE'};
        var ACCESS_TYPE = {WRITE: 'WRITE', READ: 'READ'};
        var ERROR_LANGUAGE = {EN: 'EN', RU: 'RU'};
        var TEMPLATE_TYPE = {POPUP: 'POPUP', MODAL: 'MODAL'};
        var CONFLICT_S_D = {DISABLED: 'DISABLED', SELECTED: 'SELECTED'};
        var SELECT_BY_WEEK_MODE = {INVERSION: 'INVERSION', NORMAL: 'NORMAL'};

        function start() {
          initErrors();
          initView();
          initDates();
          initCalendarDates();
          initBtns();
          setViewMonth();
          refreshDateList();
        }

        initModal();

        var errors;

        function initErrors() {
          scope.errors = {len: 0};
          Object.defineProperty(scope.errors, "len", {enumerable: false});

          errors = (function () {

            return {
              add: function (code) {
                if (!scope.errors.hasOwnProperty(code) && ERRORS.hasOwnProperty(code)) {
                  console.debug('code+: ' + code);
                  var err = ERRORS[code];
                  scope.errors[code] = ERRORS[code];
                } else if (!scope.errors.hasOwnProperty(code) && !ERRORS.hasOwnProperty(code)) {
                  console.debug('code: ' + code);
                  err = ERRORS.UNKNOWN_ERROR;
                  scope.errors.UNKNOWN_ERROR = ERRORS.UNKNOWN_ERROR;
                } else {
                  // error already in array
                }
                this.length();
              },
              remove: function (code) {
                if (scope.errors.hasOwnProperty(code) && ERRORS.hasOwnProperty(code)) {
                  delete scope.errors[code];
                } else if (scope.errors.hasOwnProperty(code) && !ERRORS.hasOwnProperty(code)) {
                  scope.errors.ERROR_DELETING_UNKNOWN_ERROR = ERRORS.ERROR_DELETING_UNKNOWN_ERROR;
                }
                this.length();
              },

              length: function () {
                scope.errors.len = 0;
                for (var err in scope.errors) {
                  scope.errors.len++;
                }
              }
            }
          })();
        }

        function initView() {
          //Setting the title, today, close and set strings for the date picker
          scope.templateType = (scope.inputObj.templateType && TEMPLATE_TYPE.hasOwnProperty(scope.inputObj.templateType) > -1) ? (scope.inputObj.templateType) : TEMPLATE_TYPE.POPUP;


          scope.currentMonth = '';
          scope.currentYear = '';
          scope.monthYear = {
            select: new Date()
          };

          scope.header = (scope.inputObj.header && scope.inputObj.header.length > 0) ? scope.inputObj.header : '';
          if (scope.templateType === TEMPLATE_TYPE.MODAL && scope.header === '') scope.header = 'Datepicker';
          scope.headerClass = scope.inputObj.headerClass;

          scope.btnsIsNative = !!scope.inputObj.btnsIsNative;

          scope.btnOk = scope.inputObj.btnOk ? scope.inputObj.btnOk : 'Ok';
          scope.btnOkClass = scope.inputObj.btnOkClass ? scope.inputObj.btnOkClass : 'button-stable cal-button';

          scope.btnCancel = scope.inputObj.btnCancel ? scope.inputObj.btnCancel : 'Close';
          scope.btnCancelClass = scope.inputObj.btnCancelClass ? scope.inputObj.btnCancelClass : 'button-stable cal-button';

          scope.btnTodayShow = !!scope.inputObj.btnTodayShow;
          if (scope.btnTodayShow) {
            scope.btnToday = scope.inputObj.btnToday ? scope.inputObj.btnToday : 'Today';
            scope.btnTodayClass = scope.inputObj.btnTodayClass ? scope.inputObj.btnTodayClass : 'button-stable cal-button';
          }

          scope.btnClearShow = !!scope.inputObj.btnClearShow;
          if (scope.btnClearShow) {
            scope.btnClear = scope.inputObj.btnClear ? scope.inputObj.btnClear : 'Clear';
            scope.btnClearClass = scope.inputObj.btnClearClass ? scope.inputObj.btnClearClass : 'button-stable cal-button';
          }
          scope.selectType = (scope.inputObj.selectType && SELECT_TYPE.hasOwnProperty(scope.inputObj.selectType) > -1 ) ? scope.inputObj.selectType : SELECT_TYPE.MULTI;

          scope.tglSelectByWeekShow = scope.inputObj.tglSelectByWeekShow === true;
          scope.tglSelectByWeek = scope.inputObj.tglSelectByWeek ? scope.inputObj.tglSelectByWeek : 'Select by week';
          scope.selectByWeekMode = (scope.inputObj.selectByWeekMode && scope.inputObj.selectByWeekMode === SELECT_BY_WEEK_MODE.INVERSION) ? SELECT_BY_WEEK_MODE.INVERSION : SELECT_BY_WEEK_MODE.NORMAL;
          scope.selectByWeekMode = (scope.inputObj.selectByWeekMode && scope.inputObj.selectByWeekMode === SELECT_BY_WEEK_MODE.INVERSION) ? SELECT_BY_WEEK_MODE.INVERSION : SELECT_BY_WEEK_MODE.NORMAL;
          scope.selectByWeek = {is: !!(scope.inputObj.isSelectByWeek === true && scope.tglSelectByWeekShow === true)};
          scope.tglSelectByWeekClass = scope.inputObj.tglSelectByWeekClass ? scope.inputObj.tglSelectByWeekClass : 'toggle-energized';
          scope.titleSelectByWeekClass = scope.inputObj.titleSelectByWeekClass ? scope.inputObj.titleSelectByWeekClass : 'energized energized-border';

          scope.accessType = (scope.inputObj.accessType && ACCESS_TYPE.hasOwnProperty(scope.inputObj.accessType) > -1) ? scope.inputObj.accessType : ACCESS_TYPE.WRITE;
          scope.showErrors = (scope.inputObj.showErrors && scope.inputObj.showErrors !== true) ? false : true;
          scope.errorLanguage = (scope.inputObj.errorLanguage && ERROR_LANGUAGE.hasOwnProperty(scope.inputObj.errorLanguage)) ? scope.inputObj.errorLanguage : ERROR_LANGUAGE.EN;

          if (scope.inputObj.fromDate && Date.prototype.isPrototypeOf(scope.inputObj.fromDate)) {
            scope.fromYearMonth = scope.inputObj.fromDate.getFullYear() * 100 + scope.inputObj.fromDate.getMonth();
          } else {
            scope.fromYearMonth = undefined;
          }

          if (scope.inputObj.toDate && Date.prototype.isPrototypeOf(scope.inputObj.toDate)) {
            scope.toYearMonth = scope.inputObj.toDate.getFullYear() * 100 + scope.inputObj.toDate.getMonth();
          } else {
            scope.toYearMonth = undefined;
          }

          scope.conflictSD = (scope.inputObj.conflictSelectedDisabled && CONFLICT_S_D.hasOwnProperty(scope.inputObj.conflictSelectedDisabled)) ? scope.inputObj.conflictSelectedDisabled : CONFLICT_S_D.DISABLED;

          scope.closeOnSelect = !!scope.inputObj.closeOnSelect;

          scope.modalFooterClass = scope.inputObj.modalFooterClass ? scope.inputObj.modalFooterClass : 'bar-light';

          // Setting the months list. This is useful, if the component needs to use some other language.
          scope.monthsList = [];
          if (scope.inputObj.monthList && scope.inputObj.monthList.length === 12) {
            scope.monthsList = scope.inputObj.monthList;
          } else {
            scope.monthsList = IonicMultiDatePickerService.monthsList;
          }
          // weaklist
          if (scope.inputObj.weekDaysList && scope.inputObj.weekDaysList.length === 7) {
            scope.weekNames = scope.inputObj.weekDaysList;
          } else {
            scope.weekNames = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];
          }

          // Setting whether to show Monday as the first day of the week or not.
          scope.mondayFirst = !!scope.inputObj.mondayFirst;

          if (scope.mondayFirst === true) {
            var lastWeekDay = scope.weekNames.shift();
            scope.weekNames.push(lastWeekDay);
          }
        }

        function glueDate(date) {
          if (date instanceof Date) {
            return date.getFullYear() * 10000 + date.getMonth() * 100 + date.getDate();
          } else {
            return date.year * 10000 + date.month * 100 + date.date;
          }
        }

        function initDates() {

          // INPUT DATES:
          // work copy & cancel copy
          if (scope.inputObj.selectedDates && scope.inputObj.selectedDates.length > 0) {
            scope.selectedDates = angular.copy(scope.inputObj.selectedDates);
            scope.inputDates = angular.copy(scope.inputObj.selectedDates);
          } else {
            scope.selectedDates = [];
            scope.inputDates = [];
          }

          // disabled dates
          scope.disabledDates = [];
          if (scope.inputObj.disabledDates && scope.inputObj.disabledDates instanceof Array) {
            scope.disabledDates = scope.inputObj.disabledDates;
          }


          // calendars 0 - 7
          scope.calendar = [];
          scope.calendarNamesCount = 0;

          for (var i = 0; i < 8; i++) {
            scope.calendar[i] = {dates: []};
            var cn = 'calendar' + i;
            if (scope.inputObj[cn] && scope.inputObj[cn] instanceof Array) {

              scope.calendar[i].dates = scope.inputObj[cn];
/*
              for (var d = 0; d < scope.inputObj[cn].length; d++) {
                if (Date.prototype.isPrototypeOf()) {


                }
              }
*/


              scope.calendar[i].class = scope.inputObj[cn + 'Class'] && scope.inputObj[cn + 'Class'].length > 0 ? scope.inputObj[cn + 'Class'] : 'cal-color-' + i;
              scope.calendar[i].name = {
                isShow: scope.inputObj[cn + 'Name'] && scope.inputObj[cn + 'Name'].length > 0,
                class: scope[cn + 'Class'],
                title: scope.inputObj[cn + 'Name']
              };
              if (scope.calendar[i].name.isShow) scope.calendarNamesCount++;
            }
          }

          scope.onRelease();

          // methods:
          scope.selectedDates.findDate = function (year, month, date) {
            if (this.length > 0) {
              for (var i = 0; i < this.length; i++) {
                var d = this[i];
                if (d.getFullYear() === year && d.getMonth() === month && d.getDate() === date) {
                  return {isPresent: true, i: i};
                }
              }
            }
            return {isPresent: false};
          };

          scope.selectedDates.addRemove = function (year, month, date, state) {
            var find = this.findDate(year, month, date);

            switch (scope.selectType) {
              case SELECT_TYPE.SINGLE:
                this.length = 0;
                if (find.isPresent) {
                  //scope.selectedDates.length = 0;
                } else {
                  this.push(new Date(year, month, date));
                }
                break;

              default:
                if (state === undefined) {
                  if (find.isPresent) {
                    this.splice(find.i, 1);
                  } else {
                    this.push(new Date(year, month, date));
                  }
                } else {
                  if (find.isPresent && !state) {
                    this.splice(find.i, 1);
                  } else if (!find.isPresent && state) {
                    this.push(new Date(year, month, date));
                  }
                }
            }
          };

          scope.selectedDates.clear = function () {
            this.length = 0;
          };

          scope.selectedDates.sortByDate = function (direction) {

            direction = (direction && direction === 'desc') ? -1 : 1;
            if (this.length > 0) {
              for (var i = 0; i < this.length; i++) {
                this[i].sortField = glueDate(this[i]);
              }
            }

            this.sort(function (a, b) {
              return (a.sortField - b.sortField) * direction;
            });
          };

          scope.selectedDates.checkDisabledConflicts = function () {
            var d = 0;
            var s = 0;
            var dis = scope.disabledDates;

            if (scope.conflictSD === CONFLICT_S_D.DISABLED) {

              while (d < dis.length) {
                s = 0;
                while (s < this.length) {
                  if (dis[d].sortField === this[s].sortField) {
                    this.splice(s, 1);
                  } else {
                    s++;
                  }
                }
                d++;
              }

            } else {

              while (s < this.length) {
                d = 0;
                while (d < dis.length) {
                  if (dis[d].sortField === this[s].sortField) {
                    dis.splice(d, 1);
                  } else {
                    d++;
                  }
                }
                s++;
              }
            }

          };

          scope.selectedDates.getNearestFutureMonth = function () {
            var today = new Date();
            var curYear = today.getFullYear();
            var curMonth = today.getMonth();

            this.sortByDate();

            if (this.length > 0) {
              for (var i = 0; i < this.length; i++) {
                var d = this[i];
                var dYear = d.getFullYear(), dMonth = d.getMonth();
                if ((dYear == curYear && dMonth >= curMonth) || dYear > curYear) {
                  return {year: dYear, month: dMonth}
                }
              }
              return {year: curYear, month: curMonth};
            } else {
              return {year: curYear, month: curMonth};
            }
          };

          scope.selectedDates.checkPeriod = function () {

            if (scope.selectType === SELECT_TYPE.SINGLE) {
              var isTruePeriod = this.length <= 1;
              if (isTruePeriod) {
                errors.remove(ERRORS.INPUT_PERIOD__SINGLE_NOT_PERIOD.CODE);
              } else {
                errors.add(ERRORS.INPUT_PERIOD__SINGLE_NOT_PERIOD.CODE);
              }
              return isTruePeriod;
            }

            if (scope.selectType === SELECT_TYPE.MULTI) {
              isTruePeriod = true;
              return isTruePeriod;
            }

            // 'period':
            if (this.length > 1) {

              this.sortByDate();

              for (var i = 0; i < this.length - 1; i++) {
                if (this[i + 1].sortField - this[i].sortField !== 1) {
                  var d1 = new Date(this[i].getFullYear(), this[i].getMonth(), this[i].getDate());
                  var d2 = new Date(this[i + 1].getFullYear(), this[i + 1].getMonth(), this[i + 1].getDate());
                  var diff = (d2.getTime() - d1.getTime()) / (24 * 60 * 60 * 1000);

                  if (diff != 1) {
                    isTruePeriod = false;
                    errors.add(ERRORS.INPUT_PERIOD__DATES_NOT_PERIOD.CODE);
                    return isTruePeriod;
                  }
                }
              }
            }

            isTruePeriod = true;
            errors.remove(ERRORS.INPUT_PERIOD__DATES_NOT_PERIOD.CODE);
            return isTruePeriod;
          };

          scope.selectedDates.checkClones = function () {

            scope.selectedDates.sortByDate.call(this);

            var i = 0;
            while (i < this.length - 1) {
              if (this[i].sortField === this[i + 1].sortField) {
                this.splice(i + 1, 1);
              } else {
                i++;
              }
            }
          };

          // checking input period
          scope.selectedDates.checkClones();
          scope.selectedDates.checkPeriod();

          scope.selectedDates.checkClones.call(scope.disabledDates);
          for (var c = 0; c < 8; c++) {
            scope.selectedDates.checkClones.call(scope.calendar[c].dates);
          }

          scope.selectedDates.checkDisabledConflicts();
        }

        function initCalendarDates() {


          // VIEWED DATES:
          scope.dayList = [];
          // methods:
          scope.dayList.zero = function () {
            this.length = 0;
          };

          scope.dayList.findDay = function (year, month, date) {
            for (var i = 0; i < this.length; i++) {
              if (this[i].year === year && this[i].month === month && this[i].date === date) {
                return i;
              }
            }
          };

          scope.dayList.repaint = function () {
            var viewMonthDates = [];
            scope.selectedDates.sortByDate();

            var firstDay = glueDate(this[0]);
            var lastDay = glueDate(this[this.length - 1]);

            var sd = scope.selectedDates;
            for (var i = 0; i < sd.length; i++) {
              if (sd[i].sortField >= firstDay && sd[i].sortField <= lastDay) {
                viewMonthDates.push(sd[i].sortField);
              } else if (sd[i].sortField > lastDay) {
                break;
              }
            }

            i = 0;
            while (i < this.length) {
              this[i].style.isSelected = viewMonthDates.indexOf(glueDate(this[i])) >= 0;
              i++;
            }
          };

          scope.dayList.repaintDay = function (year, month, date) {
            scope.dayList.repaint();
            var i = this.findDay(year, month, date);
            this[i].style.isSelected = !this[i].style.isSelected;
          };
        }

        function initBtns() {
          // BUTTONS:
          scope.btns = [];

          if (scope.btnClearShow && scope.accessType === ACCESS_TYPE.WRITE) {
            scope.btns.push({
              text: scope.btnClear,
              type: scope.btnClearClass,
              sType: 'clear',
              onClickModal: function () {
                btnClear();
              },
              onTap: function (e) {
                btnClear();
                if (scope.btnsIsNative) {
                  e.preventDefault();
                }
              }
            });
          }

          if (scope.btnTodayShow) {
            scope.btns.push({
              text: scope.btnToday,
              type: scope.btnTodayClass,
              sType: 'today',
              onClickModal: function () {
                btnToday();
              },
              onTap: function (e) {
                btnToday();
                if (scope.btnsIsNative) {
                  e.preventDefault();
                }
              }
            });
          }

          scope.btns.push({
            text: scope.btnCancel,
            type: scope.btnCancelClass,
            sType: 'cancel',
            onClickModal: function () {
              btnCancel();
              scope.closeModal();
            },
            onTap: function () {
              btnCancel();
              if (!scope.btnsIsNative) {
                scope.popup.close();
              }
            }
          });

          if (scope.accessType === ACCESS_TYPE.WRITE) {
            scope.btns.push({
              text: scope.btnOk,
              type: scope.btnOkClass,
              sType: 'ok',
              onClickModal: function () {
                btnOk();
                scope.closeModal();
              },
              onTap: function () {
                btnOk();
                if (!scope.btnsIsNative) {
                  scope.popup.close();
                }
              }
            });
          }

          if (scope.templateType === TEMPLATE_TYPE.MODAL) scope.btns.reverse()
        }

        function setViewMonth() {
          // select viewed month(current || nearest next)
          if (scope.inputObj.viewMonth && scope.inputObj.viewMonth.length > 0) {
            scope.viewYear = scope.inputObj.viewMonth[0].getFullYear();
            scope.viewMonth = scope.inputObj.viewMonth[0].getMonth();
          } else if (scope.selectedDates && scope.selectedDates.length > 0) {
            var date = scope.selectedDates.getNearestFutureMonth();
            scope.viewYear = date.year;
            scope.viewMonth = date.month;
          } else {
            scope.viewYear = new Date().getFullYear();
            scope.viewMonth = new Date().getMonth();
          }
        }

        function refreshDateList() {

          var today = new Date();
          var viewYear = scope.viewYear;
          var viewMonth = scope.viewMonth;
          var nowDay = today.getDate();
          var isCurMonthNow = (viewYear === today.getFullYear() && viewMonth === today.getMonth());

          var lastDay = new Date(viewYear, viewMonth + 1, 0).getDate();

          scope.dayList.zero();

          // current month
          for (var i = 1; i <= lastDay; i++) {
            var isViewMonth = true;

            var isToday = isCurMonthNow && nowDay === i;
            var isCalendar = [];
            for (var c = 0; c < 8; c++) {
              isCalendar[c] = scope.selectedDates.findDate.call(scope.calendar[c].dates, viewYear, viewMonth, i).isPresent;
            }

            var isDisabled = scope.selectedDates.findDate.call(scope.disabledDates, viewYear, viewMonth, i, true).isPresent;
            var isSelected = scope.selectedDates.findDate(viewYear, viewMonth, i).isPresent && !isDisabled;

            var iDate = new Date(viewYear, viewMonth, i);

            scope.dayList.push({
              year: viewYear,
              month: viewMonth,
              date: i,
              day: iDate.getDay(),
              style: {
                isSelected: isSelected,
                isToday: isToday,
                isDisabled: isDisabled,
                isCalendar0: isCalendar[0],
                isCalendar1: isCalendar[1],
                isCalendar2: isCalendar[2],
                isCalendar3: isCalendar[3],
                isCalendar4: isCalendar[4],
                isCalendar5: isCalendar[5],
                isCalendar6: isCalendar[6],
                isCalendar7: isCalendar[7],
                isViewMonth: isViewMonth
              }
            });
          }

          // set Monday as the first day of the week.
          var insertDays = scope.dayList[0].day - scope.mondayFirst;
          insertDays = (insertDays < 0) ? 6 : insertDays;
          lastDay = new Date(viewYear, viewMonth, 0).getDate();

          // end of preview month
          var date = monthShift(viewYear, viewMonth, '-');
          isViewMonth = false;
          isToday = false;


          for (var j = 0; j < insertDays; j++) {


            for (c = 0; c < 8; c++) {
              isCalendar[c] = scope.selectedDates.findDate.call(scope.calendar[c].dates, date.year, date.month, lastDay - j).isPresent;
            }

            isDisabled = scope.selectedDates.findDate.call(scope.disabledDates, date.year, date.month, lastDay - j).isPresent;
            isSelected = scope.selectedDates.findDate(date.year, date.month, lastDay - j).isPresent && !isDisabled;

            iDate = new Date(date.year, date.month, lastDay - j);

            scope.dayList.unshift({
              year: date.year,
              month: date.month,
              date: lastDay - j,
              day: iDate.getDay(),
              style: {
                isSelected: isSelected,
                isToday: isToday,
                isDisabled: isDisabled,
                isCalendar0: isCalendar[0],
                isCalendar1: isCalendar[1],
                isCalendar2: isCalendar[2],
                isCalendar3: isCalendar[3],
                isCalendar4: isCalendar[4],
                isCalendar5: isCalendar[5],
                isCalendar6: isCalendar[6],
                isCalendar7: isCalendar[7],
                isViewMonth: isViewMonth
              }
            });
          }

          scope.rows = [0, 7, 14, 21, 28];
          if (scope.dayList.length / 7 > 5) {
            scope.rows.push(35); // = [0, 7, 14, 21, 28, 35];
          }

          var daysLeft = 7 - scope.dayList.length % 7;
          // start of next month
          date = monthShift(scope.viewYear, scope.viewMonth, '+');
          for (i = 1; i <= daysLeft; i++) {
            for (c = 0; c < 8; c++) {
              isCalendar[c] = scope.selectedDates.findDate.call(scope.calendar[c].dates, date.year, date.month, i).isPresent;
            }

            isDisabled = scope.selectedDates.findDate.call(scope.disabledDates, date.year, date.month, i).isPresent;
            isSelected = scope.selectedDates.findDate(date.year, date.month, i).isPresent && !isDisabled;
            iDate = new Date(date.year, date.month, i);

            scope.dayList.push({
              year: date.year,
              month: date.month,
              date: i,
              day: iDate.getDay(),
              style: {
                isSelected: isSelected,
                isToday: isToday,
                isDisabled: isDisabled,
                isCalendar0: isCalendar[0],
                isCalendar1: isCalendar[1],
                isCalendar2: isCalendar[2],
                isCalendar3: isCalendar[3],
                isCalendar4: isCalendar[4],
                isCalendar5: isCalendar[5],
                isCalendar6: isCalendar[6],
                isCalendar7: isCalendar[7],
                isViewMonth: isViewMonth
              }
            });
          }

          scope.cols = [0, 1, 2, 3, 4, 5, 6];

        }

        scope.prevMonth = function () {
          var date = monthShift(scope.viewYear, scope.viewMonth, '-');
          if (scope.fromYearMonth === undefined || date.year * 100 + date.month >= scope.fromYearMonth) {
            scope.viewYear = date.year;
            scope.viewMonth = date.month;

            refreshDateList();
          }
        };

        scope.nextMonth = function () {
          var date = monthShift(scope.viewYear, scope.viewMonth, '+');
          if (scope.toYearMonth === undefined || date.year * 100 + date.month <= scope.toYearMonth) {
            scope.viewYear = date.year;
            scope.viewMonth = date.month;
            refreshDateList();
          }
        };

        scope.monthYearSelect = function () {
          var year = scope.monthYear.select.getFullYear();
          var month = scope.monthYear.select.getMonth();
          if ((scope.toYearMonth === undefined || year * 100 + month <= scope.toYearMonth) && (scope.fromYearMonth === undefined || year * 100 + month >= scope.fromYearMonth)) {

            scope.viewYear = year;
            scope.viewMonth = month;

            refreshDateList();
          } else {

          }
        };

        // date-cell ng-click:
        scope.onTap = function (date, row) {
          if (scope.accessType == ACCESS_TYPE.WRITE) {
            if (!scope.selectByWeek.is) {
              selectDay(date)
            } else {
              if (scope.selectByWeekMode === SELECT_BY_WEEK_MODE.NORMAL) {
                var state = !scope.selectedDates.findDate(date.year, date.month, date.date).isPresent;
              }
              for (var i = 0; i < 7; i++) {
                var d = scope.dayList[row + i];
                selectDay(d, state);
              }
            }

            if (scope.closeOnSelect) {
              btnOk();
              if (scope.templateType === TEMPLATE_TYPE.POPUP) {
                $timeout(scope.popup.close, 300);
              } else {
                $timeout(scope.closeModal, 300);
              }
            }
          }
        };

        scope.onHold = function (date) {
          scope.holded = {
            is: true,
            isSelected: date.style.isSelected,
            isDisabled: date.style.isDisabled,
            isToday: date.style.isToday,
            isCalendar0: date.style.isCalendar0,
            isCalendar1: date.style.isCalendar1,
            isCalendar2: date.style.isCalendar2,
            isCalendar3: date.style.isCalendar3,
            isCalendar4: date.style.isCalendar4,
            isCalendar5: date.style.isCalendar5,
            isCalendar6: date.style.isCalendar6,
            isCalendar7: date.style.isCalendar7,
            date: date.date
          };
        };

        scope.onRelease = function (date) {
          scope.holded = {
            is: false,
            date: 'date'
          };
        };

        function selectDay(date, state) {
          var isDisabled = scope.selectedDates.findDate.call(scope.disabledDates, date.year, date.month, date.date).isPresent;
          if (!isDisabled) {
            scope.selectedDates.addRemove(date.year, date.month, date.date, state);
            scope.dayList.repaint();
            scope.selectedDates.checkPeriod();

          }
        }

        function monthShift(year, month, direction) {
          switch (direction) {
            case '+':
              if (month === 11) {
                year++;
                month = 0;
              } else {
                month++;
              }
              break;

            case '-':
              if (month === 0) {
                year--;
                month = 11;
              } else {
                month--;
              }
              break;
          }

          return {year: year, month: month};
        }

        function btnOk() {
          scope.inputObj.callback(scope.selectedDates);
        }

        function btnCancel() {
          scope.inputObj.callback(scope.inputDates);
        }

        function btnClear() {
          scope.selectedDates.clear();
          scope.dayList.repaint();
          scope.selectedDates.checkPeriod();
        }

        function btnToday() {
          var d = new Date();

          scope.viewYear = d.getFullYear();
          scope.viewMonth = d.getMonth();

          refreshDateList();
        }

        function initModal() {
          // reference for the 'ionic-multi-date-picker' modal.
          $ionicModal.fromTemplateUrl('ionic-multi-date-picker-modal.html', {
            scope: scope,
            animation: 'slide-in-right'
          }).then(function (modal) {
            scope.modal = modal;
          });
          scope.openModal = function () {
            scope.modal.show();
          };
          scope.closeModal = function () {
            scope.modal.hide();
          };
        }

        //Called when the user clicks on the button to invoke the 'ionic-multi-date-picker'
        element.on("click", function () {
          //This code is added to set passed date from datepickerObject
          start();

          if (scope.templateType === TEMPLATE_TYPE.MODAL) {
            scope.openModal();
          } else {
            //Getting the reference for the 'ionic-multi-date-picker' popup.
            var buttons = scope.btns;
            if (!scope.btnsIsNative) {
              buttons = [];
            }
            scope.popup = $ionicPopup.show({
              templateUrl: 'ionic-multi-date-picker-popup.html',
              cssClass: 'picker-body',
              scope: scope,
              buttons: buttons
            });
          }
        });
      }
    };
  }

})();
//By Rajeshwar Patlolla - rajeshwar.patlolla@gmail.com
//https://github.com/rajeshwarpatlolla

// forked and edited by Denni Adam - dennila2@gmail.com
// https://github.com/dennila2
(function(){
  'use strict';

  angular.module('ionic-multi-date-picker')
    .service('IonicMultiDatePickerService', IonicMultiDatePickerService);

  IonicMultiDatePickerService.$inject = [];
  function IonicMultiDatePickerService(){
    this.monthsList = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

  }

})();
